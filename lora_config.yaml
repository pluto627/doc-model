# 医疗VLM LoRA微调配置
# 包含奖惩机制的监督式训练

model: "/Users/plutoguo/.lmstudio/models/lmstudio-community/Qwen3-VL-30B-A3B-Instruct-MLX-4bit"
data: "/Users/plutoguo/Desktop/training/data_mlx"
fine_tune_type: "lora"

# LoRA参数配置
lora_parameters:
  rank: 16
  alpha: 32
  scale: 2.0
  dropout: 0.1
  keys:
    - "self_attn.q_proj"
    - "self_attn.k_proj"
    - "self_attn.v_proj"
    - "self_attn.o_proj"
    - "mlp.gate_proj"
    - "mlp.up_proj"
    - "mlp.down_proj"

# 训练参数 - 1000步
train: true
iters: 1000
learning_rate: 1e-4
batch_size: 1
steps_per_report: 20
steps_per_eval: 100
val_batches: 25
save_every: 200
max_seq_length: 2048

# 优化器
optimizer: "adamw"

# 输出路径
adapter_path: "/Users/plutoguo/Desktop/training/adapters"

# 其他设置
seed: 42
grad_checkpoint: true
